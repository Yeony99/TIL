# 스프링 5

## 스프링 제어의 역전(IoC)과 의존성 주입(DI)

### 의존성 주입 : 객체를 직접 생성하는 게 아니라 외부에서 생성한 후 주입 시켜주는 것
* DI를 통해서 모듈 간의 결합도가 낮아지고 유연성이 높아진다.
* A객체 -> 외부에서 생성된 객체 new B() new C() (=IOC 컨테이너에서 생성된) 를 
  * setter() 
  * 생성자 
* 이러한 객체를 `Bean`이라 부른다
* 프로젝트가 실행될 때 사용자가 Bean으로 관리하는 객체들의 생성/소멸 관련된 작업을 자동으로 수행해줌
* 객체가 생성되는 곳 = Bean 컨테이너

### 제어의 역전 : 메소드나 객체의 호출작업을 개발자가 결정하는 것이 아니라, 외부에서 결정되는 것
* 가독성 및 코드 중복, 유지 보수 용이
* 기존의 객체 생성 실행 과정
  * 객체 생성
  * 의존성 객체 생성 - 클래스 내부에서 생성
  * 의존성 객체 메소드 호출
* 스프링 객체 생성 실행 과정
  * 객체 생성
  * 의존성 객체 주입 - 개발자 권한 x / 제어권을 스프링에게 위임 -> 스프링이 만들어놓은 객체 주입
  * 의존성 객체 메소드 호출
  * => Bean들은 `싱글톤 패턴` 갖게 됨

## 어노테이션 기반의 설정

### 빈 선언
* @Component
  * 제네릭 스테레오 타입
  * 클래스에 이것이 적용되어 있으면 해당 클래스를 **인스턴스화**
* @Service
  * @Component를 특수화한 것
  * ~~Core J2EE 패턴인 비즈니스 서비스 파사드???~~
* @Controller
  * 컴포넌트가 HTTP 요청을 받을 수 있는 웹 컨트롤러임을 나타냄
* @Repository
  *  외부I/O 처리
  *  퍼시스턴스 레이어, DB나 파일같은 **외부 I/O 작업을** 처리함


